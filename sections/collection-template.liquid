{%- style -%}
  .collection {
    max-width: var(--spacing-page-width);
    margin: 0 auto;
    padding: 2rem;
  }

  .collection__header {
    margin-bottom: 2rem;
  }

  .collection__title {
    font-size: var(--font-size-4xl);
    margin-bottom: 1rem;
  }

  .collection__description {
    color: var(--color-muted-foreground);
    line-height: var(--line-height-relaxed);
  }

  .collection__filters {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .collection__filter {
    padding: 0.5rem 1rem;
    background: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: 0.25rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .collection__filter:hover {
    border-color: var(--color-primary);
  }

  .collection__filter.active {
    background: var(--color-primary);
    color: var(--color-primary-foreground);
    border-color: var(--color-primary);
  }

  .collection__products {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 2rem;
  }

  .collection__product {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .collection__product-image {
    width: 100%;
    aspect-ratio: 1;
    object-fit: cover;
    border-radius: 0.5rem;
  }

  .collection__product-info {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .collection__product-title {
    font-size: var(--font-size-lg);
    font-weight: 500;
  }

  .collection__product-price {
    font-weight: 500;
  }

  .collection__product-compare-price {
    text-decoration: line-through;
    color: var(--color-muted-foreground);
    margin-left: 0.5rem;
  }

  .collection__pagination {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 4rem;
  }

  .collection__pagination-item {
    padding: 0.5rem 1rem;
    background: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: 0.25rem;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .collection__pagination-item:hover {
    border-color: var(--color-primary);
  }

  .collection__pagination-item.active {
    background: var(--color-primary);
    color: var(--color-primary-foreground);
    border-color: var(--color-primary);
  }

  .collection__empty {
    text-align: center;
    padding: 4rem 2rem;
  }

  .collection__empty-title {
    font-size: var(--font-size-2xl);
    margin-bottom: 1rem;
  }

  .collection__empty-text {
    color: var(--color-muted-foreground);
    margin-bottom: 2rem;
  }

  .collection__empty-button {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    background: var(--color-primary);
    color: var(--color-primary-foreground);
    text-decoration: none;
    border-radius: 0.375rem;
    transition: background-color 0.2s ease;
  }

  .collection__empty-button:hover {
    background: var(--color-ring);
  }
{%- endstyle -%}

<div class="collection">
  <div class="collection__header">
    <h1 class="collection__title">{{ collection.title }}</h1>
    {%- if collection.description != blank -%}
      <div class="collection__description">{{ collection.description }}</div>
    {%- endif -%}
  </div>

  {%- if collection.products_count > 0 -%}
    <div class="collection__filters">
      {%- for filter in collection.filters -%}
        {%- if filter.type == 'list' -%}
          {%- for value in filter.values -%}
            <button
              class="collection__filter {% if value.active %}active{% endif %}"
              data-filter="{{ filter.param_name }}"
              data-value="{{ value.value }}"
            >
              {{ value.label }}
            </button>
          {%- endfor -%}
        {%- endif -%}
      {%- endfor -%}
    </div>

    <div class="collection__products">
      {%- for product in collection.products -%}
        <div class="collection__product">
          <a href="{{ product.url }}">
            <img
              class="collection__product-image"
              src="{{ product.featured_image | image_url: width: 400 }}"
              alt="{{ product.title | escape }}"
              width="400"
              height="400"
              loading="lazy"
            >
          </a>
          <div class="collection__product-info">
            <h3 class="collection__product-title">
              <a href="{{ product.url }}">{{ product.title }}</a>
            </h3>
            <div class="collection__product-price">
              {{ product.price | money }}
              {%- if product.compare_at_price > product.price -%}
                <span class="collection__product-compare-price">
                  {{ product.compare_at_price | money }}
                </span>
              {%- endif -%}
            </div>
          </div>
        </div>
      {%- endfor -%}
    </div>

    {%- if paginate.pages > 1 -%}
      <div class="collection__pagination">
        {%- if paginate.previous -%}
          <a href="{{ paginate.previous.url }}" class="collection__pagination-item">
            Previous
          </a>
        {%- endif -%}

        {%- for page in paginate.pages -%}
          <a
            href="{{ page.url }}"
            class="collection__pagination-item {% if page.current %}active{% endif %}"
          >
            {{ page.number }}
          </a>
        {%- endfor -%}

        {%- if paginate.next -%}
          <a href="{{ paginate.next.url }}" class="collection__pagination-item">
            Next
          </a>
        {%- endif -%}
      </div>
    {%- endif -%}
  {%- else -%}
    <div class="collection__empty">
      <h2 class="collection__empty-title">No products found</h2>
      <p class="collection__empty-text">
        We couldn't find any products matching your selection.
      </p>
      <a href="{{ collection.url }}" class="collection__empty-button">
        Clear filters
      </a>
    </div>
  {%- endif -%}
</div>

{% schema %}
{
  "name": "Collection Template",
  "settings": []
}
{% endschema %} 