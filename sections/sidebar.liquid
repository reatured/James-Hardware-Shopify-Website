{%- style -%}
  .sidebar {
    width: var(--spacing-sidebar-width);
    background: var(--color-background);
    border-right: 1px solid var(--color-border);
    padding: 1.5rem;
    position: fixed;
    height: 100vh;
    overflow-y: auto;
  }

  .sidebar__header {
    margin-bottom: 1.5rem;
  }

  .sidebar__logo {
    max-width: 150px;
    height: auto;
  }

  .sidebar__nav {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .sidebar__nav-item {
    margin-bottom: 0.25rem;
  }

  .sidebar__nav-link {
    display: block;
    padding: 0.5rem 0;
    color: var(--color-foreground);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .sidebar__nav-link:hover {
    color: var(--color-primary);
  }

  .sidebar__categories {
    margin-top: 1.5rem;
  }

  .sidebar__category-title {
    font-size: var(--font-size-lg);
    margin-bottom: 0.75rem;
  }

  .sidebar__category-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .sidebar__category-item {
    margin-bottom: 0.25rem;
  }

  .sidebar__category-link {
    display: block;
    padding: 0.375rem 0;
    color: var(--color-muted-foreground);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .sidebar__category-link:hover {
    color: var(--color-primary);
  }

  @media screen and (max-width: 768px) {
    .sidebar {
      position: fixed;
      top: 0;
      left: -100%;
      z-index: 1000;
      transition: left 0.3s ease;
    }

    .sidebar.active {
      left: 0;
    }
  }
{%- endstyle -%}

<aside class="sidebar">
  <div class="sidebar__header">
    <a href="{{ routes.root_url }}">
      {%- if section.settings.logo != blank -%}
        <img class="sidebar__logo" src="{{ section.settings.logo | image_url }}" alt="{{ shop.name }}">
      {%- else -%}
        <h1>{{ shop.name }}</h1>
      {%- endif -%}
    </a>
  </div>

  <nav class="sidebar__nav">
    <ul>
      {%- for link in linklists.main-menu.links -%}
        <li class="sidebar__nav-item">
          <a href="{{ link.url }}" class="sidebar__nav-link">{{ link.title }}</a>
        </li>
      {%- endfor -%}
    </ul>
  </nav>

  <div class="sidebar__categories">
    <h2 class="sidebar__category-title">Categories</h2>
    <ul class="sidebar__category-list">
      {%- for collection in collections -%}
        {%- unless collection.title contains 'Selection' or collection.title contains 'Collection' -%}
          <li class="sidebar__category-item">
            <a href="{{ collection.url }}" class="sidebar__category-link">{{ collection.title }}</a>
          </li>
        {%- endunless -%}
      {%- endfor -%}
    </ul>
  </div>
</aside>

{% schema %}
{
  "name": "Sidebar",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    }
  ]
}
{% endschema %} 